// JavaScript Document

var tree_data = [
	{
		id:"set1",
		name: "Set 1",
		data: [
			{
				name: "Set 1a",
				id:"set1a",
				data: 10	
			}, 
			{
				name: "Set 1b",
				id:"set1b",
				data: 20	
			}
		
		]
	},
	{
		name: "Set 2",
		id:"set2",
		data: 30
	},
	{
		name: "Set 3",
		id:"set3",
		data: [
			{
				name: "Set 3a",
				id:"set3a",
				data: 20
			}, 
			{
				id:"set3b",
				name: "Set 3b",
				data: [
					{
						name: "Set 3b1",
						id:"set3b1",
						data: [
							{
								name: "Set 3b1a",
								id: "set3b1a",
								data: 1
							},
							{
								name: "Set 3b1b",
								id: "set3b1b",
								data: 1
							},
							{
								name: "Set 3b1c",
								id: "set3b1c",
								data: 1
							},
							{
								name: "Set 3b1d",
								id: "set3b1d",
								data: 1
							},
							{
								name: "Set 3b1e",
								id: "set3b1e",
								data: 1
							},
							{
								name: "Set 3b1f",
								id: "set3b1f",
								data: 1
							},
							{
								name: "Set 3b1g",
								id: "set3b1g",
								data: [
									{
										name: "Set 3b1g1",
										id: "set3b1g1",	
										data: 0.5
									},
									{
										name: "Set 3b1g2",
										id: "set3b1g2",	
										data: 0.5
									}
								]
							}
						]	
					},
					{
						name: "Set 3b2",
						id:"set3b2",
						data: 8	
					}
				]	
			}
		]	
	}
];

var tree_data_2 = [
	{
		id:"set1",
		name: "Set 1",
		data: [
			{
				name: "Set 1a",
				id:"set1a",
				data: 12	
			}, 
			{
				name: "Set 1b",
				id:"set1b",
				data: 21	
			}
		
		]
	},
	{
		name: "Set 2",
		id:"set2",
		data: 15
	},
	{
		name: "Set 3",
		id:"set3",
		data: [
			{
				name: "Set 3a",
				id:"set3a",
				data: 20
			}, 
			{
				id:"set3b",
				name: "Set 3b",
				data: [
					{
						name: "Set 3b1",
						id:"set3b1",
						data: [
							{
								name: "Set 3b1a",
								id: "set3b1a",
								data: 1
							},
							{
								name: "Set 3b1b",
								id: "set3b1b",
								data: 1
							},
							{
								name: "Set 3b1c",
								id: "set3b1c",
								data: 1
							},
							{
								name: "Set 3b1d",
								id: "set3b1d",
								data: 1
							},
							{
								name: "Set 3b1e",
								id: "set3b1e",
								data: 1
							},
							{
								name: "Set 3b1f",
								id: "set3b1f",
								data: 1
							},
							{
								name: "Set 3b1g",
								id: "set3b1g",
								data: [
									{
										name: "Set 3b1g1",
										id: "set3b1g1",	
										data: 0.5
									},
									{
										name: "Set 3b1g2",
										id: "set3b1g2",	
										data: 0.5
									}
								]
							}
						]	
					},
					{
						name: "Set 3b2",
						id:"set3b2",
						data: 8	
					},
					{
						name: "Set 3b3",
						id:"set3b3",
						data: 3	
					}
				]	
			}
		]	
	}
];

var budget_data = function(year) {
	var d = {};
	d[1978]=[83.16,21.86,9.61,28.9,30.45,30.59,204.58,32.51,104.65,114.06,227.41,0.85,0.36,4.58,1.5,8,8.93,8.14,2.38,29.57,3.83,1.74,4.7,1.37,3.87,3.55,4.94,2.2,0.03,4.36,0.06,0.13,6.59,3.36,0.68,0.12,2.82,0.45,4.95];
	d[1979]=[91.96,25.27,11.12,28.86,34.71,29.47,221.4,37.91,116.78,123.22,246.99,0.91,0.42,5.02,1.71,9.53,8.89,9.02,2.56,24.73,4.11,1.87,10.68,1.62,5.89,2.58,5.52,2.28,0.03,4.42,0.07,0.3,8.56,3.88,0.75,0.13,1.7,0.49,5.55];
	d[1980]=[105.34,30.59,12.56,39.87,39.97,33.76,262.08,44.97,134.63,141.7,291.23,1.09,0.5,5.63,2.2,9.86,5.7,11.47,3.35,28.03,4.16,1.88,9.44,1.92,7.04,13.7,5.91,2.73,0.05,3.93,0.08,0.27,8.1,4.5,0.83,0.14,1.8,0.55,6.81];
	d[1981]=[122.51,36.69,14.96,44.35,45.17,37.88,301.56,54.76,157.96,149.95,339.41,1.13,0.6,6.91,1.92,10.51,12.38,13.09,3.38,29.07,4.41,1.9,9.98,2.26,10.38,1.87,6.97,2.85,0.06,2.79,0.1,0.36,12.72,5.19,0.94,0.16,1.25,0.66,6.13];
	d[1982]=[138.96,44.39,15.7,48.02,49.68,38,334.76,62.7,185.93,140.02,370.79,1.36,0.72,6.88,1.82,10.58,12.85,13.75,4.19,18.65,4.45,2.25,6.41,2.6,11.08,3.17,8.38,2.96,0.06,3.64,0.09,0.3,10.38,6.14,0.99,0.14,0.74,0.77,4.65];
	d[1983]=[149.91,49.4,16.89,56.91,51.63,40.51,365.25,70.23,209.88,143.43,410.57,1.59,0.79,7.8,1.93,10.97,12.31,14.31,4.28,15.39,5.1,2.57,7.85,2.72,8.74,3.52,9.26,3.32,0.07,3.59,0.1,0.43,11.75,6.88,1.07,0.14,1.24,0.82,4.9];
	d[1984]=[156.84,54.47,17.87,46.06,53.28,32.74,361.26,76.07,228.05,151.4,405.5,1.51,0.83,7.65,1.9,11.19,11.77,14.45,4.43,15.52,4.75,2.84,10.43,2.81,7.52,3.62,9.22,2.49,0.07,3.78,0.1,0.32,19.14,6.93,1.23,0.14,0.9,0.84,5.01];
	d[1985]=[166.83,62.34,20.27,46.76,54.55,50.32,401.07,86.74,253.11,162.68,448.19,1.51,1.01,8.84,2.26,13.66,13.71,16.13,4.58,16.55,5.31,3.22,7.49,3.53,8.36,4.33,10.46,2.81,0.09,4.23,0.11,0.36,17.72,7.36,1.46,0.14,1.22,0.91,5.33];
	d[1986]=[177.02,66.81,22.51,48.81,57.12,43.58,415.85,93.44,273.83,164.69,461.72,1.69,1.1,9.15,2.26,14.34,12.64,17.67,5.06,15.95,5.02,3.58,7.68,4.4,7.95,4.69,11.48,2.92,0.1,3.71,0.12,0.41,15.74,8.36,1.56,0.15,0.76,1.06,5.12];
	d[1987]=[182.18,70.99,24.37,48.88,59.1,35.73,421.25,100.83,282.52,161.64,474.18,1.73,1.25,8.68,2.17,15.36,11.41,17.92,5.28,12.72,5.14,4.33,7.63,3.8,7.4,4.38,11.15,3.09,0.12,5.3,0.12,0.2,13.46,10.8,1.6,0.15,0.6,0.96,4.93];
	d[1988]=[192.41,76.06,27.03,50.86,63.07,38.76,448.2,107.37,290.92,173.5,505.03,1.85,1.38,9.47,2.57,16.9,13.51,20.14,5.61,13.22,5.54,4.88,8.23,4.07,7.93,5.92,12.09,3.38,0.1,5.23,0.13,0.04,13.4,9.43,1.79,0.17,0.44,1.16,4.91];
	d[1989]=[205.02,82.92,30.79,56.01,51.01,60.19,485.93,117.31,304.03,184.8,546.08,1.92,1.4,10.52,2.88,17.84,13.98,21.56,7.26,12.91,5.83,5.67,8.3,4.35,8.51,6.09,12.84,3.37,0.11,5.37,0.14,0.07,12.75,11.32,2,0.18,0.44,1.13,6.08];
	d[1990]=[223.82,97.2,37.32,62.42,54.46,92.85,568.07,136.91,300.14,200.44,625.63,1.98,1.58,10.87,3.63,18.71,15.99,22.91,7.36,14.44,6.44,7.45,8.4,4.41,10.02,6.14,12.99,3.18,0.11,5.48,0.18,2.17,13.52,12.21,2.08,0.2,0.93,1.09,5.95];
	d[1991]=[226.69,97.06,44.64,73.87,54.71,99.53,596.5,154.58,319.7,213.57,701.95,2.11,1.82,11.15,2.56,20.19,17.23,25.41,6.18,22.21,6.63,6.99,8.6,4.72,9.83,6.4,13.43,3.15,0.1,5.81,0.18,1.85,13.6,13.36,2.21,0.19,0.44,1.35,5.86];
	d[1992]=[257.63,116.91,61.28,100.07,60.07,52.42,648.38,184.01,302.6,231.2,717.68,2.23,2.1,14.66,2.94,21.8,18.14,27.41,10.64,21.77,6.81,7.87,9.57,5.56,10.69,6.99,14.55,3.49,0.11,6.34,0.19,0.29,12.03,13.65,2.45,0.2,1.5,1.26,5.98];
	d[1993]=[274.98,130.4,69,106.62,62.21,27.71,670.92,203.68,292.43,247.32,736.81,2.22,2.27,14.86,3.09,22.86,18.45,28.88,8.63,23.16,6.75,8.31,9.54,5.94,9.99,7.37,15.52,3.68,0.11,6.63,0.23,0.51,23.49,13.71,2.62,0.23,0.89,1.41,5.97];
	d[1994]=[289.3,145.67,74.89,105.98,65.99,35.66,717.48,223.87,282.27,259.07,785.97,2.3,2.51,16.7,3.89,24.68,18.7,32.92,12.42,24.02,7.45,8.72,10.62,6.65,11.38,7.97,17.13,3.91,0.12,6.64,0.24,0.54,11.45,14.55,3.01,0.23,1.89,1.78,6.65];
	d[1995]=[301.21,160.08,80.5,105.42,67.97,23.66,738.85,245.95,273.56,271.2,817.51,2.63,2.92,16.96,4.5,27.11,18.87,36.62,12.25,21.51,7.94,12.41,10.31,6.31,8.89,8.93,19.32,3.66,0.13,6.56,0.2,0.08,13.02,15.23,3.55,0.24,0.87,2.63,7.54];
	d[1996]=[318.35,175.49,84.38,111.55,70.89,26.04,786.7,263.26,265.96,266.77,857.62,2.36,3.06,16.61,4,23.71,17.93,36.24,12.37,22.13,7.71,14.57,10.24,5.94,10.41,8.67,19.41,3.67,0.12,7.13,0.22,0.09,11.69,15.18,3.52,0.21,0.89,2.07,6.6];
	d[1997]=[327.75,188.04,86.44,110.8,72.86,24.22,810.1,282.99,271.67,275.36,895.49,2.44,3.26,16.88,4.15,28.9,17.93,37.32,14.51,16.32,7.95,16.06,11.12,6,11.24,8.39,20.47,4.46,0.12,7.38,0.24,0.4,11.5,14.88,3.55,0.21,0.93,2.33,6.44];
	d[1998]=[342.8,192.29,92.27,111.32,75.23,45.43,859.35,291.47,270.25,281.75,942.86,2.45,3.37,16.55,4.4,31.42,17.74,39.2,11.72,20.85,8.52,16.56,11.31,5.9,10.19,9.1,19.96,4.41,0.14,7.78,0.26,0,12.03,14.42,3.62,0.2,0.76,2.4,6.5];
	d[1999]=[355.61,192.28,99.28,118.55,78.38,55.87,899.97,296.3,275.46,296.65,979.4,2.56,3.31,15.92,5.25,28.07,17.33,40.43,12.92,21.63,7.77,15.82,10.71,8.12,10.2,9.14,18.75,3.99,0.13,7.41,0.42,0.29,30.21,13.32,3.59,0.18,0.81,2.28,6.08];
	d[2000]=[374.13,199.04,108.65,123.41,80.92,65.22,951.38,313.26,294.97,319.66,1032.54,2.75,3.99,18.42,9.42,31.91,19.28,49.3,15.8,22.94,9.2,17.51,9.52,8.45,11.32,10.04,22.66,4.48,0.15,8.23,0.3,0,14.81,14.78,4.25,0.22,0.97,2.67,6.31];
	d[2001]=[394.36,218.46,118.82,131.45,85.15,59.4,1007.64,347.13,306.08,342.97,1097.1,2.84,3.98,19.16,5.08,39.97,19.96,53.97,16,28.26,10.23,18.34,11.92,7.75,14.63,10.31,22.3,4.67,0.14,7.81,3.81,0.2,12.55,14.21,4.42,0.21,1,2.59,6.66];
	d[2002]=[417.87,234.49,136.35,166.7,88.81,61.77,1106,378.89,348.95,385,1196.53,3.29,4.4,20.03,5.42,49.27,21.21,60.8,29.86,31.27,10.49,19.58,12.26,9.34,15.61,10.49,23.82,4.63,0.15,8.04,0.33,0.26,13.58,14.82,4.8,0.23,0.91,2.86,7.24];
	d[2003]=[433.45,252.59,148.05,180.72,91.99,75.68,1182.49,410.76,404.94,419.4,1283.43,3.65,4.76,23,5.8,54.58,22.81,67.64,31.61,30.92,10.87,20.02,12.16,9.96,13.87,10.97,27.24,4.83,0.17,8.31,2.64,1.37,19.19,15.81,5.47,0.25,0.78,2.96,7.79];
	d[2004]=[451.78,273.01,161.98,175.18,95.27,80.32,1237.53,445.73,454.06,441.01,1346.43,3.62,4.89,21.75,5.84,56.31,23.63,69.97,31.6,32.41,10.92,19.85,11.93,11.49,14.03,10.8,29.46,4.62,0.17,8.47,18.99,0.06,16.99,15.56,5.66,0.27,0.8,3.08,7.84];
	d[2005]=[472.62,305.34,165.57,179.38,99.99,96.52,1319.43,481.18,493.6,474.94,1448.1,3.48,4.8,21.15,6,53.87,22.93,65.42,93.34,31.56,10.25,19.52,11.34,13.36,14.61,10.35,30.33,5.13,0.16,7.56,0.38,0.32,17.13,15.26,5.16,0.26,1.45,2.87,6.96];
	d[2006]=[493.47,341.87,163.87,181.49,102.61,128.5,1411.82,510.96,519.97,496.66,1556.14,4.2,5.82,24.44,7.19,63.42,25.57,81.19,16.14,55.51,12.16,23.25,12.45,15.96,19.62,12.39,36.98,12.94,0.44,8.29,0.37,0.82,20.36,18.08,6.07,0.31,2.42,3.06,7.18];
	d[2007]=[517.89,388.45,169.79,180.91,109.03,83.92,1449.99,567.4,547.87,493.72,1627.92,4.15,5.92,26.79,6.97,61.23,25.13,74.9,41.75,39.21,11.67,24.32,12.37,17.36,16.67,12.15,40.38,7.41,0.16,8.18,0.36,0.17,21.33,17.24,6.27,0.31,0.61,3.17,7.55];
	d[2008]=[548.36,408.5,180.45,233.51,115.45,108.65,1594.9,594.14,612.43,522.45,1780.33,4.16,6,26.84,8.1,58.8,24.75,74.22,51.38,48.45,11.95,24.21,12.09,22.72,17.03,12.53,44.84,9.26,0.17,7.67,0.3,0.34,18.93,17.69,6.26,0.31,1.68,3.15,8.61];
	d[2009]=[620.08,457.4,229.58,320.43,125.94,339.79,2093.24,683.57,656.72,580.81,2287.82,3.24,4.31,22.81,12.25,110.07,50.03,78.29,32.1,38.03,10.12,21.33,12.53,18.68,48.1,9.17,34.85,11.69,0.14,10.52,0.27,4.55,17.18,13.3,6.72,0.16,0.95,3.07,6.39];
	d[2010]=[635.51,472.02,247.37,396.6,125.5,36.71,1913.72,727.14,688.85,658.31,2110.2,5.51,7.46,32.04,15.55,74.36,28.96,98.07,52.8,49.74,14.1,32.36,15.71,34.06,25.26,15.57,61.55,6.65,0.33,11.89,0.5,0.32,28.82,21.71,7.97,0.28,2.07,4.04,10.62];
	d[2011]=[657.14,507.32,249.25,366.31,130.68,115.27,2025.97,763.54,699.39,647.74,2234.94,5.65,7.93,28.37,6.9,83.72,31.47,94.66,51.62,45.5,14.31,33.06,15.26,32.04,20.74,16.47,69.13,6.06,0.27,10.63,0.47,0,26.99,22.6,8.34,0.25,0.89,4.25,10.16];
	d[2012]=[690.12,495.45,225.21,317.9,129.01,172.92,2030.63,725.78,670.52,615.57,2258.93,4.96,7.35,27.12,8.92,75.85,29.67,88.18,52.36,40.99,12.75,30.28,14.9,32.73,21.95,14.79,66.03,7.67,0.26,9.51,0.43,0,27.08,20,7.92,0.27,1.03,4.11,8.45];
	d[2013]=[702.46,508.88,230.77,295.25,132.61,161.59,2031.57,767.63,625.75,576.4,2336.35,4.26,6.4,23.94,7.89,67.84,25.52,77.04,57.64,39.27,12.03,26.22,12.24,29.61,30.37,12.7,63.29,10.26,0.31,8.75,0.38,0,23.12,17.43,7.11,0.23,1.81,3.75,6.98];

	var names = [
		"Social Security",
		"Medicare",
		"Medicaid",
		"Income Security",
		"Other Retirement Disability",
		"Other Programs",
		"Total Mandatory",
		"",
		"Defense Discretionary",
		"Non Defense Discretionary",
		"Total Discretionary",
		"Legislative Branch",
		"Judicial Branch",
		"Department of Agriculture",
		"Department of Commerce",
		"Department of Education",
		"Department of Energy",
		"Department of Health and Human Services",
		"Department of Homeland Security",
		"Department of Housing and Urban Development",
		"Department of the Interior",
		"Department of Justice",
		"Department of Labor",
		"Department of State",
		"Department of Transportation",
		"Department of the Treasury",
		"Department of Veterans Affairs",
		"Corps of Engineers -- Civil Works",
		"Defense Civil Programs",
		"Environmental Protection Agency",
		"Office of the President",
		"General Services Administration",
		"International Assistance Programs",
		"National Aeronautics and Space Administration",
		"National Science Foundation",
		"Office of Personnel Management",
		"Small Business Administration",
		"Social Security Administration",
		"Other Independent Agencies"
	];
	
	var ids = (function(n) {
		var toReturn = [], tempString;
		for (var i = 0;i<n.length;i++) {
			tempString = n[i];
			tempString = tempString.replace(/\s+/gmi,"_");
			tempString = tempString.replace(/[^a-z0-9_]/gmi,"");
			toReturn[i] = tempString;
		}
		return toReturn;
	})(names);
	
	var toReturn = [
		{
			name: "Mandatory Spending",
			id:"mandatory",
			data: []
		},
		{
			name: "Discretionary Spending",
			id: "discretionary",
			data: []	
		}
	];
	var mandatoryContains = [0,1,2,3,4,5];
	for (var i =0;i<mandatoryContains.length;i++) {
		toReturn[0].data.push({
			name: names[mandatoryContains[i]],
			id: ids[mandatoryContains[i]],
			data: d[year][mandatoryContains[i]],
		});
	}
	var discretionaryContains = [8,9];
	for (var i =0;i<discretionaryContains.length;i++) {
		toReturn[1].data.push({
			name: names[discretionaryContains[i]],
			id: ids[discretionaryContains[i]],
			data: d[year][discretionaryContains[i]],
		});
	}
	toReturn[1].data[1].data = [];
	for (var i=11;i<=38;i++) {
		toReturn[1].data[1].data.push({
			name: names[i],
			id: ids[i],
			data: d[year][i]
		});
	}
	
	return toReturn;
	
};